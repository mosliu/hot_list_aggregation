# 自定义模式使用说明

## 概述

自定义模式（custom）允许用户指定时间范围和新闻类型来处理特定的数据。现已支持多种新闻类型的输入方式。

## 使用方法

### 启动自定义模式

```bash
python main_processor.py custom
```

### 交互式输入

程序会依次提示输入以下信息：

1. **开始时间**：格式为 `YYYY-MM-DD HH:MM:SS`
2. **结束时间**：格式为 `YYYY-MM-DD HH:MM:SS`  
3. **新闻类型**：支持多种输入格式（可选）

## 新闻类型输入格式

### 支持的输入格式

| 输入格式 | 说明 | 解析结果 |
|---------|------|---------|
| `baidu` | 单个类型 | 字符串: `"baidu"` |
| `baidu,douyin_hot` | 逗号分隔 | 列表: `["baidu", "douyin_hot"]` |
| `baidu, douyin_hot` | 带空格 | 列表: `["baidu", "douyin_hot"]` |
| `baidu,douyin_hot,weibo` | 多个类型 | 列表: `["baidu", "douyin_hot", "weibo"]` |
| 直接回车 | 跳过 | 使用默认类型 |

### 常用新闻类型

- `baidu` - 百度热搜
- `douyin_hot` - 抖音热点
- `weibo` - 微博热搜
- `zhihu` - 知乎热榜
- `toutiao` - 今日头条

## 使用示例

### 示例1：处理单个新闻类型

```
$ python main_processor.py custom
请输入时间范围:
开始时间 (YYYY-MM-DD HH:MM:SS): 2025-09-28 10:00:00
结束时间 (YYYY-MM-DD HH:MM:SS): 2025-09-28 12:00:00
新闻类型 (可选，多个类型用逗号分隔，直接回车跳过): baidu
```

### 示例2：处理多个新闻类型

```
$ python main_processor.py custom
请输入时间范围:
开始时间 (YYYY-MM-DD HH:MM:SS): 2025-09-28 08:00:00
结束时间 (YYYY-MM-DD HH:MM:SS): 2025-09-28 18:00:00
新闻类型 (可选，多个类型用逗号分隔，直接回车跳过): baidu,douyin_hot
```

### 示例3：使用默认类型

```
$ python main_processor.py custom
请输入时间范围:
开始时间 (YYYY-MM-DD HH:MM:SS): 2025-09-27 00:00:00
结束时间 (YYYY-MM-DD HH:MM:SS): 2025-09-28 00:00:00
新闻类型 (可选，多个类型用逗号分隔，直接回车跳过): [直接回车]
```

## 注意事项

1. **时间格式**：必须严格按照 `YYYY-MM-DD HH:MM:SS` 格式输入
2. **新闻类型**：
   - 支持逗号分隔多个类型
   - 自动去除多余空格
   - 空输入将使用系统默认类型
3. **时间范围**：建议不要设置过长的时间范围，以免处理时间过长

## 错误处理

### 时间格式错误

```
时间格式错误: time data '2025-9-28 10:00:00' does not match format '%Y-%m-%d %H:%M:%S'
```

**解决方法**：确保月份和日期使用两位数字，如 `2025-09-28`

### 新闻类型无效

如果输入了不存在的新闻类型，程序会继续运行但可能找不到对应的数据。

## 验证功能

可以运行测试脚本验证新闻类型解析功能：

```bash
python test_scripts/test_custom_news_types.py
```

## 更新日志

- **2025-09-28**：新增支持逗号分隔的多个新闻类型输入
- **2025-09-28**：改进用户提示信息，增加使用示例